$(document).ready(function(){var d=document.getElementById("domain").getAttribute("value");$("#message-form").submit(function(l){l.preventDefault();e()});$("#send-button").on("click",function(){e()});$("#messages").append('<div class="small-card"><p class="status">Connecting...</p></div>');var g;var j;if(d.includes("https://")){j="wss"}else{j="ws"}g=new WebSocket(j+d.substr(d.indexOf("://"))+"/chat/websocket/"+Cookies.get("chat-id").substr(1));var k=document.getElementById("message");g.onopen=function(l){c(l)};g.onmessage=function(l){i(l)};g.onclose=function(l){f(l)};g.onerror=function(l){b(l)};function e(){g.send(k.value);k.value=""}function i(o){var q=o.data;var s=new Map();while(q.indexOf(":")!=-1&&q.indexOf(":")<q.indexOf("|")){var r=q.substr(0,q.indexOf(":"));q=q.substr(q.indexOf(":")+1);var m=0;if(q.indexOf(",")!=-1&&q.indexOf(",")<q.indexOf("|")){m=q.indexOf(",")}else{m=q.indexOf("|")}var p=q.substr(0,m);q=q.substr(m+1);s.set(r,p)}if(s.get("direct-display")==="false"){$("#messages").append('<div class="small-card"><p class="status">'+q+"</p></div>")}else{var l=s.get("client-name");var n=s.get("text-color");$("#messages").append('<div class="small-card" style="background-color:#'+l+'"><p style="color:#'+n+'">'+q+"</p></div>")}}function c(l){$("#messages").append('<div class="small-card"><p class="status">Connected!</p></div>')}function f(l){$("#messages").append('<div class="small-card"><p class="warn">Disconnected</p></div>');window.setTimeout(function(){$("#messages").append('<div class="small-card"><p class="status">Reloading...</p></div>');location.reload()},3000)}function b(l){$("#messages").append('<div class="small-card"><p class="warn">Error!</p></div>')}$("html").css("font-size",Cookies.get("font-size"));$("#text-up").on("click",function(){var l=parseFloat(window.getComputedStyle(document.getElementById("html")).fontSize);$("#font-size").remove();$("html").css("font-size",(l+1)+"px");Cookies.set("font-size",(l+1)+"px")});$("#text-dn").on("click",function(){var l=parseFloat(window.getComputedStyle(document.getElementById("html")).fontSize);$("#font-size").remove();$("html").css("font-size",(l-1)+"px");Cookies.set("font-size",(l-1)+"px")});function a(l){if(l==="light"||l==="dark"||l==="rainbow"){}else{l="light"}$("#theme-styles").attr("href",d+"/src/common/"+l+"-common.min.css");Cookies.set("theme",l);$(".theme-button").show();$("#"+l+"-theme-button").hide()}a(Cookies.get("theme"));$(".theme-button").each(function(){var l=$(this);l.on("click",function(){a(l.attr("data"))})});function h(l){if(l==="light"){$("p").css("font-weight","200");$(".bold").css("font-weight","400");$("h6").css("font-weight","400");$("#font-light-button").hide();$("#font-normal-button").show();Cookies.set("font-weight","light")}else{$("p").css("font-weight","400");$(".bold").css("font-weight","600");$("h6").css("font-weight","600");$("#font-normal-button").hide();$("#font-light-button").show();Cookies.set("font-weight","normal")}}h(Cookies.get("font-weight"));$("#font-light-button").on("click",function(){h("light")});$("#font-normal-button").on("click",function(){h("normal")});$(".ajax-bar").each(function(){$(this).show()});$("#option-pane-open-button").on("click",function(){$("#option-pane").show();$("#option-pane-close-button").show();$(this).hide()});$("#option-pane-close-button").on("click",function(){$("#option-pane").hide();$("#option-pane-open-button").show();$(this).hide()})});