$(document).ready(function(){var d=document.getElementById("domain").getAttribute("value");$("#message-form").submit(function(k){k.preventDefault();e()});$("#send-button").on("click",function(){e()});$("#messages").append('<div class="small-card"><p class="status">Connecting...</p></div>');var g=new WebSocket("wss://"+d.substr(d.indexOf("//")+2)+"/chat/websocket");var j=document.getElementById("message");g.onopen=function(k){c(k)};g.onmessage=function(k){i(k)};g.onclose=function(k){f(k)};g.onerror=function(k){b(k)};function e(){g.send(j.value);j.value=""}function i(m){var o=m.data;var q=new Map();while(o.indexOf(":")!=-1&&o.indexOf(":")<o.indexOf("|")){var p=o.substr(0,o.indexOf(":"));o=o.substr(o.indexOf(":")+1);var l=0;if(o.indexOf(",")!=-1&&o.indexOf(",")<o.indexOf("|")){l=o.indexOf(",")}else{l=o.indexOf("|")}var n=o.substr(0,l);o=o.substr(l+1);q.set(p,n)}if(q.get("direct-display")==="false"){$("#messages").append('<div class="small-card"><p class="status">'+o+"</p></div>")}else{var k=q.get("client-name");$("#messages").append('<div class="small-card" style="background-color:#'+k+'"><p>'+o+"</p></div>")}}function c(k){$("#messages").append('<div class="small-card"><p class="status">Connected!</p></div>')}function f(k){$("#messages").append('<div class="small-card"><p class="warn">Disconnected</p></div>');window.setTimeout(function(){$("#messages").append('<div class="small-card"><p class="status">Reloading...</p></div>');location.reload()},3000)}function b(k){$("#messages").append('<div class="small-card"><p class="warn">Error!</p></div>')}$("html").css("font-size",Cookies.get("font-size"));$("#text-up").on("click",function(){var k=parseFloat(window.getComputedStyle(document.getElementById("html")).fontSize);$("#font-size").remove();$("html").css("font-size",(k+1)+"px");Cookies.set("font-size",(k+1)+"px")});$("#text-dn").on("click",function(){var k=parseFloat(window.getComputedStyle(document.getElementById("html")).fontSize);$("#font-size").remove();$("html").css("font-size",(k-1)+"px");Cookies.set("font-size",(k-1)+"px")});function a(k){if(k==="light"||k==="dark"||k==="rainbow"){}else{k="light"}$("#theme-styles").attr("href",d+"/src/common/"+k+"-common.min.css");Cookies.set("theme",k);$(".theme-button").show();$("#"+k+"-theme-button").hide()}a(Cookies.get("theme"));$(".theme-button").each(function(){var k=$(this);k.on("click",function(){a(k.attr("data"))})});function h(k){if(k==="light"){$("p").css("font-weight","200");$(".bold").css("font-weight","400");$("h6").css("font-weight","400");$("#font-light-button").hide();$("#font-normal-button").show();Cookies.set("font-weight","light")}else{$("p").css("font-weight","400");$(".bold").css("font-weight","600");$("h6").css("font-weight","600");$("#font-normal-button").hide();$("#font-light-button").show();Cookies.set("font-weight","normal")}}h(Cookies.get("font-weight"));$("#font-light-button").on("click",function(){h("light")});$("#font-normal-button").on("click",function(){h("normal")});$(".ajax-bar").each(function(){$(this).show()});$("#option-pane-open-button").on("click",function(){$("#option-pane").show();$("#option-pane-close-button").show();$(this).hide()});$("#option-pane-close-button").on("click",function(){$("#option-pane").hide();$("#option-pane-open-button").show();$(this).hide()})});